<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Neutron-docker-plugin by feiskyer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Neutron-docker-plugin</h1>
      <h2 class="project-tagline">OpenStack Neutron Network Plugin for Docker</h2>
      <a href="https://github.com/feiskyer/neutron-docker-plugin" class="btn">View on GitHub</a>
      <a href="https://github.com/feiskyer/neutron-docker-plugin/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/feiskyer/neutron-docker-plugin/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="neutron-docker-network-driver" class="anchor" href="#neutron-docker-network-driver" aria-hidden="true"><span class="octicon octicon-link"></span></a>Neutron Docker network driver</h1>

<p>This repository implements OpenStack Neutron driver for the Docker networking
<a href="https://github.com/docker/libnetwork/blob/master/docs/remote.md">remote driver</a>.</p>

<p>Using the driver will result in the Docker containers joining one or more
existing or newly created Neutron networks. Each Neutron port type will have to
add support to this repository for plugging the ports it owns.</p>

<p>Currently, only <code>ovs</code> port is supported.</p>

<h2>
<a id="how-to-run-it" class="anchor" href="#how-to-run-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to run it</h2>

<p>Deploy procedure:</p>

<ul>
<li>Deploy OpenStack</li>
<li>Deploy neutron-openvswitch-agent on docker host if docker host and OpenStack host is not the same one</li>
<li>Deploy this repository via <code>python setup.py install</code> on docker host</li>
</ul>

<p>Starting neutron docker plugin:</p>

<pre><code>mkdir -p /usr/lib/docker/plugins
neutron-docker --config-file /etc/docker/neutron_docker_plugin.conf --log-dir /var/log --debug
</code></pre>

<p>Now, you can create docker network with driver <code>neutron</code>:</p>

<pre><code>docker network create -d neutron neutronnet
</code></pre>

<p>Run container using neutron network:</p>

<pre><code>docker run -itd --publish-service=http1.neutronnet nginx
docker run -itd --publish-service=http2.neutronnet nginx
</code></pre>

<h2>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>How it works</h2>

<p>Neutron L2 agent (such as neutron-openvswitch-agent) will be running on each
docker host. When a container is launched by the docker daemon using neutron
network plugin, for example:</p>

<pre><code>docker run -itd --publish-service=http1.neutronnet nginx
</code></pre>

<p>Then docker will request its neutron driver to provide a <code>neutronnet</code> network
and <code>http1</code> endpoint. Actually, neutron driver will create a network whose name 
is <code>neutronet</code>'s network ID and a port whose name is <code>http1</code>'s endpoint ID. Neutron
driver will also setup essential virtual bridges and veth pairs which connects 
container's network interface to neutron L2 agent.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/feiskyer/neutron-docker-plugin">Neutron-docker-plugin</a> is maintained by <a href="https://github.com/feiskyer">feiskyer</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
